{"ast":null,"code":"import _objectWithoutProperties from \"/Users/rachel/git/hackernews/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"/Users/rachel/git/hackernews/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/rachel/git/hackernews/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/rachel/git/hackernews/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/rachel/git/hackernews/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rachel/git/hackernews/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/rachel/git/hackernews/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/rachel/git/hackernews/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/rachel/git/hackernews/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/rachel/git/hackernews/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/rachel/git/hackernews/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport './App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCoffee } from '@fortawesome/free-solid-svg-icons';\nimport { sortBy } from 'lodash';\nimport classNames from 'classnames';\nvar DEFAULT_QUERY = 'Redux';\nvar DEFAULT_HPP = '100';\nvar PATH_BASE = 'https://hn.algolia.com/api/v1';\n;\nvar PATH_SEARCH = '/search';\nvar PARAM_SEARCH = 'query=';\nvar PARAM_PAGE = 'page=';\nvar PARAM_HPP = 'hitsPerPage=';\nvar list = [{\n  title: 'React',\n  url: 'https://facebook.github.io/react/',\n  author: 'Jordan Walke',\n  num_comments: 3,\n  points: 4,\n  objectID: 0\n}, {\n  title: 'Redux',\n  url: 'https://github.com/reactjs/redux',\n  author: 'Dan Abramov, Andrew Clark',\n  num_comments: 2,\n  points: 5,\n  objectID: 1\n}];\n\nvar isSearched = function isSearched(searchTerm) {\n  return function (item) {\n    return item.title.toLowerCase().includes(searchTerm.toLowerCase());\n  };\n};\n\nvar SORTS = {\n  NONE: function NONE(list) {\n    return list;\n  },\n  TITLE: function TITLE(list) {\n    return sortBy(list, 'title');\n  },\n  AUTHOR: function AUTHOR(list) {\n    return sortBy(list, 'author');\n  },\n  COMMENTS: function COMMENTS(list) {\n    return sortBy(list, 'num_comments').reverse();\n  },\n  POINTS: function POINTS(list) {\n    return sortBy(list, 'points').reverse();\n  }\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this._isMounted = false;\n    _this.state = {\n      result: null,\n      searchKey: '',\n      searchTerm: DEFAULT_QUERY,\n      error: null,\n      isLoading: false,\n      sortKey: 'NONE',\n      isSortReverse: false\n    };\n    _this.needsToSearchTopStories = _this.needsToSearchTopStories.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setSearchTopStories = _this.setSearchTopStories.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.fetchSearchTopStories = _this.fetchSearchTopStories.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSearchChange = _this.onSearchChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSearchSubmit = _this.onSearchSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onDismiss = _this.onDismiss.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n      var searchTerm = this.state.searchTerm;\n      this.setState({\n        searchKey: searchTerm\n      });\n      this.fetchSearchTopStories(searchTerm);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"needsToSearchTopStories\",\n    value: function needsToSearchTopStories(searchTerm) {\n      return !this.state.results[searchTerm];\n    }\n  }, {\n    key: \"fetchSearchTopStories\",\n    value: function fetchSearchTopStories(searchTerm) {\n      var _this2 = this;\n\n      var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this.setState({\n        isLoading: true\n      });\n      axios(\"\".concat(PATH_BASE).concat(PATH_SEARCH, \"?\").concat(PARAM_SEARCH).concat(searchTerm, \"&\").concat(PARAM_PAGE).concat(page, \"&\").concat(PARAM_HPP).concat(DEFAULT_HPP)).then(function (result) {\n        _this2._isMounted && _this2.setSearchTopStories(result.data);\n\n        _this2.setState({\n          isLoading: false\n        });\n      }).catch(function (error) {\n        return _this2._isMounted && _this2.setState({\n          error: error\n        });\n      });\n    }\n  }, {\n    key: \"setSearchTopStories\",\n    value: function setSearchTopStories(result) {\n      var hits = result.hits,\n          page = result.page;\n      var _this$state = this.state,\n          searchKey = _this$state.searchKey,\n          results = _this$state.results;\n      var oldHits = results && results[searchKey] ? results[searchKey].hits : [];\n\n      var updatedHits = _toConsumableArray(oldHits).concat(_toConsumableArray(hits));\n\n      this.setState({\n        results: _objectSpread({}, results, _defineProperty({}, searchKey, {\n          hits: updatedHits,\n          page: page\n        }))\n      });\n    }\n  }, {\n    key: \"onSearchChange\",\n    value: function onSearchChange(event) {\n      this.setState({\n        searchTerm: event.target.value\n      });\n    }\n  }, {\n    key: \"onSearchSubmit\",\n    value: function onSearchSubmit(event) {\n      var searchTerm = this.state.searchTerm;\n      this.setState({\n        searchKey: searchTerm\n      });\n\n      if (this.needsToSearchTopStories(searchTerm)) {\n        this.fetchSearchTopStories(searchTerm);\n      }\n\n      this.fetchSearchTopStories(searchTerm);\n      event.preventDefault();\n    }\n  }, {\n    key: \"onDismiss\",\n    value: function onDismiss(id) {\n      var _this$state2 = this.state,\n          searchKey = _this$state2.searchKey,\n          results = _this$state2.results;\n      var _results$searchKey = results[searchKey],\n          hits = _results$searchKey.hits,\n          page = _results$searchKey.page;\n\n      var isNotId = function isNotId(item) {\n        return item.objectID !== id;\n      };\n\n      var updatedHits = hits.filter(isNotId);\n      this.setState({\n        results: _objectSpread({}, results, _defineProperty({}, searchKey, {\n          hits: updatedHits,\n          page: page\n        }))\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state3 = this.state,\n          searchTerm = _this$state3.searchTerm,\n          results = _this$state3.results,\n          searchKey = _this$state3.searchKey,\n          error = _this$state3.error,\n          isLoading = _this$state3.isLoading,\n          sortKey = _this$state3.sortKey,\n          isSortReverse = _this$state3.isSortReverse;\n      var page = results && results[searchKey] && results[searchKey].page || 0;\n      var list = results && results[searchKey] && results[searchKey].hits || [];\n      return React.createElement(\"div\", {\n        className: \"page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"interactions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Search, {\n        value: searchTerm,\n        onChange: this.onSearchChange,\n        onSubmit: this.onSearchSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Search\")), error ? React.createElement(\"div\", {\n        className: \"interactions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Something went wrong.\")) : React.createElement(Table, {\n        list: list,\n        sortKey: sortKey,\n        isSortReverse: isSortReverse,\n        onSort: this.onSort,\n        onDismiss: this.onDismiss,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"interactions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(ButtonWithLoading, {\n        isLoading: isLoading,\n        onClick: function onClick() {\n          return _this3.fetchSearchTopStories(searchKey, page + 1);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"More\")));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(Search, _Component2);\n\n  function Search() {\n    _classCallCheck(this, Search);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Search).apply(this, arguments));\n  }\n\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.input) {\n        this.input.focus();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          value = _this$props.value,\n          onChange = _this$props.onChange,\n          onSubmit = _this$props.onSubmit,\n          children = _this$props.children;\n      var input;\n      return React.createElement(\"form\", {\n        onSubmit: onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: value,\n        onChange: onChange,\n        ref: function ref(node) {\n          return input = node;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, children));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nvar Table =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(Table, _Component3);\n\n  function Table(props) {\n    var _this4;\n\n    _classCallCheck(this, Table);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(Table).call(this, props));\n    _this4.state = {\n      sortKey: 'NONE',\n      isSortReverse: false\n    };\n    _this4.onSort = _this4.onSort.bind(_assertThisInitialized(_assertThisInitialized(_this4)));\n    return _this4;\n  }\n\n  _createClass(Table, [{\n    key: \"onSort\",\n    value: function onSort(sortKey) {\n      var isSortReverse = this.state.sortKey === sortKey && !this.state.isSortReverse;\n      this.setState({\n        sortKey: sortKey,\n        isSortReverse: isSortReverse\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          list = _this$props2.list,\n          onDismiss = _this$props2.onDismiss;\n      var _this$state4 = this.state,\n          sortKey = _this$state4.sortKey,\n          isSortReverse = _this$state4.isSortReverse;\n      var sortedList = SORTS[sortKey](list);\n      var reverseSortedList = isSortReverse ? sortedList.reverse() : sortedList;\n      return React.createElement(\"div\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"table-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          width: '40%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(Sort, {\n        sortKey: 'TITLE',\n        onSort: this.onSort,\n        activeSortKey: sortKey,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, \"Title\")), React.createElement(\"span\", {\n        style: {\n          width: '30%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(Sort, {\n        sortKey: 'AUTHOR',\n        onSort: this.onSort,\n        activeSortKey: sortKey,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"Author\")), React.createElement(\"span\", {\n        style: {\n          width: '10%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(Sort, {\n        sortKey: 'COMMENTS',\n        onSort: this.onSort,\n        activeSortKey: sortKey,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"Comments\")), React.createElement(\"span\", {\n        style: {\n          width: '10%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(Sort, {\n        sortKey: 'POINTS',\n        onSort: this.onSort,\n        activeSortKey: sortKey,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Points\")), React.createElement(\"span\", {\n        style: {\n          width: '10%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, \"Archive\")), reverseSortedList.map(function (item) {\n        return React.createElement(\"div\", {\n          key: item.objectID,\n          className: \"table-row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: item.url,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, item.title)), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, item.author), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          },\n          __self: this\n        }, item.num_comments), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }, item.points), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: function onClick() {\n            return onDismiss(item.objectID);\n          },\n          className: \"button-inline\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294\n          },\n          __self: this\n        }, \"Dismiss\")));\n      }));\n    }\n  }]);\n\n  return Table;\n}(Component);\n\nvar Sort = function Sort(_ref) {\n  var sortKey = _ref.sortKey,\n      activeSortKey = _ref.activeSortKey,\n      onSort = _ref.onSort,\n      children = _ref.children;\n  var sortClass = classNames('button-inline', {\n    'button-active': sortKey === activeSortKey\n  });\n  return React.createElement(Button, {\n    onClick: function onClick() {\n      return onSort(sortKey);\n    },\n    className: sortClass,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309\n    },\n    __self: this\n  }, children);\n};\n\nvar Button = function Button(_ref2) {\n  var onClick = _ref2.onClick,\n      className = _ref2.className,\n      children = _ref2.children;\n  return React.createElement(\"button\", {\n    onClick: onClick,\n    className: className,\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319\n    },\n    __self: this\n  }, children);\n};\n\nButton.defaultProps = {\n  className: ''\n};\n\nvar Loading = function Loading() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faCoffee,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331\n    },\n    __self: this\n  }));\n};\n\nvar withFoo = function withFoo(Component) {\n  return function (props) {\n    return React.createElement(Component, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }));\n  };\n};\n\nvar withLoading = function withLoading(Component) {\n  return function (_ref3) {\n    var isLoading = _ref3.isLoading,\n        rest = _objectWithoutProperties(_ref3, [\"isLoading\"]);\n\n    return isLoading ? React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }) : React.createElement(Component, Object.assign({}, rest, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }));\n  };\n};\n\nvar ButtonWithLoading = withLoading(Button);\nexport default App;\nexport { Button, Search, Table };","map":{"version":3,"sources":["/Users/rachel/git/hackernews/src/App.js"],"names":["React","Component","axios","PropTypes","FontAwesomeIcon","faCoffee","sortBy","classNames","DEFAULT_QUERY","DEFAULT_HPP","PATH_BASE","PATH_SEARCH","PARAM_SEARCH","PARAM_PAGE","PARAM_HPP","list","title","url","author","num_comments","points","objectID","isSearched","searchTerm","item","toLowerCase","includes","SORTS","NONE","TITLE","AUTHOR","COMMENTS","reverse","POINTS","App","props","_isMounted","state","result","searchKey","error","isLoading","sortKey","isSortReverse","needsToSearchTopStories","bind","setSearchTopStories","fetchSearchTopStories","onSearchChange","onSearchSubmit","onDismiss","setState","results","page","then","data","catch","hits","oldHits","updatedHits","event","target","value","preventDefault","id","isNotId","filter","onSort","Search","input","focus","onChange","onSubmit","children","node","Table","sortedList","reverseSortedList","width","map","Sort","activeSortKey","sortClass","Button","onClick","className","defaultProps","Loading","withFoo","withLoading","rest","ButtonWithLoading"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport './App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCoffee } from '@fortawesome/free-solid-svg-icons'\nimport { sortBy } from 'lodash';\nimport classNames from 'classnames';\n\nconst DEFAULT_QUERY = 'Redux';\nconst DEFAULT_HPP = '100';\nconst PATH_BASE = 'https://hn.algolia.com/api/v1';;\nconst PATH_SEARCH = '/search';\nconst PARAM_SEARCH = 'query=';\nconst PARAM_PAGE = 'page=';\nconst PARAM_HPP = 'hitsPerPage=';\n\nconst list = [\n  {\n    title: 'React',\n    url: 'https://facebook.github.io/react/',\n    author: 'Jordan Walke',\n    num_comments: 3,\n    points: 4,\n    objectID: 0,\n  },\n  {\n    title: 'Redux',\n    url: 'https://github.com/reactjs/redux',\n    author: 'Dan Abramov, Andrew Clark',\n    num_comments: 2,\n    points: 5,\n    objectID: 1,\n  },\n];\n\nconst isSearched = searchTerm => item => item.title.toLowerCase().includes(searchTerm.toLowerCase());\n\nconst SORTS = {\n  NONE: list => list,\n  TITLE: list => sortBy(list, 'title'),\n  AUTHOR: list => sortBy(list, 'author'),\n  COMMENTS: list => sortBy(list, 'num_comments').reverse(),\n  POINTS: list => sortBy(list, 'points').reverse(),\n};\n\nclass App extends Component {\n  _isMounted = false;\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: null,\n      searchKey: '',\n      searchTerm: DEFAULT_QUERY,\n      error: null,\n      isLoading: false,\n      sortKey: 'NONE',\n      isSortReverse: false,\n    };\n    this.needsToSearchTopStories = this.needsToSearchTopStories.bind(this);\n    this.setSearchTopStories = this.setSearchTopStories.bind(this);\n    this.fetchSearchTopStories = this.fetchSearchTopStories.bind(this);\n    this.onSearchChange = this.onSearchChange.bind(this);\n    this.onSearchSubmit = this.onSearchSubmit.bind(this);\n    this.onDismiss = this.onDismiss.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    const { searchTerm } = this.state;\n    this.setState({ searchKey: searchTerm });\n    this.fetchSearchTopStories(searchTerm);\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  needsToSearchTopStories(searchTerm) {\n    return !this.state.results[searchTerm];\n  }\n\n  fetchSearchTopStories(searchTerm, page = 0) {\n    this.setState({ isLoading: true });\n    axios(`${PATH_BASE}${PATH_SEARCH}?${PARAM_SEARCH}${searchTerm}&${PARAM_PAGE}${page}&${PARAM_HPP}${DEFAULT_HPP}`)\n      .then(result => {\n        this._isMounted && this.setSearchTopStories(result.data);\n        this.setState({\n          isLoading: false,\n        })\n      })\n      .catch(error => this._isMounted && this.setState({ error }));\n  }\n\n  setSearchTopStories(result) {\n    const { hits, page } = result;\n    const { searchKey, results } = this.state;\n    const oldHits = results && results[searchKey]\n      ? results[searchKey].hits\n      : [];\n    const updatedHits = [\n      ...oldHits,\n      ...hits\n    ];\n    this.setState({\n      results: { ...results, [searchKey]: {hits: updatedHits, page }}\n    });\n  }\n\n  onSearchChange(event) {\n    this.setState({ searchTerm: event.target.value });\n  }\n\n  onSearchSubmit(event) {\n    const { searchTerm } = this.state;\n    this.setState({ searchKey: searchTerm });\n    if (this.needsToSearchTopStories(searchTerm)) {\n      this.fetchSearchTopStories(searchTerm);\n    }\n    this.fetchSearchTopStories(searchTerm);\n    event.preventDefault();\n  }\n\n  onDismiss(id) {\n    const { searchKey, results } = this.state;\n    const { hits, page } = results[searchKey];\n    const isNotId = item => item.objectID !== id;\n    const updatedHits = hits.filter(isNotId);\n    this.setState({\n      results: {...results, [searchKey]: {hits: updatedHits, page}}\n    });\n  }\n\n  render() {\n    const { \n      searchTerm,\n      results, \n      searchKey, \n      error,\n      isLoading,\n      sortKey,\n      isSortReverse\n    } = this.state;\n\n    const page = (\n      results &&\n      results[searchKey] &&\n      results[searchKey].page\n    ) || 0;\n\n    const list = (\n      results &&\n      results[searchKey] &&\n      results[searchKey].hits) || [];\n    \n    return (\n      <div className=\"page\">\n        <div className=\"interactions\">\n          <Search\n            value={searchTerm}\n            onChange={this.onSearchChange}\n            onSubmit={this.onSearchSubmit}\n          >Search</Search>\n        </div>\n        {error\n          ? <div className=\"interactions\">\n            <p>Something went wrong.</p>\n          </div>\n          : <Table\n            list={list}\n            sortKey={sortKey}\n            isSortReverse={isSortReverse}\n            onSort={this.onSort}\n            onDismiss={this.onDismiss}\n          />\n        }\n        <div className=\"interactions\">\n        <ButtonWithLoading isLoading={isLoading} onClick={() => this.fetchSearchTopStories(searchKey, page + 1)}>\n          More\n        </ButtonWithLoading>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nclass Search extends Component {\n  componentDidMount() {\n    if(this.input) {\n      this.input.focus();\n    }\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      onSubmit,\n      children,\n    } = this.props;\n\n    let input;\n    return (\n      <form onSubmit={onSubmit}>\n        <input\n          type=\"text\"\n          value={value}\n          onChange={onChange}\n          ref={(node) => input = node}\n        />\n        <button type=\"submit\">\n          {children}\n        </button>\n      </form>\n    )\n  }\n}\n  \nclass Table extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sortKey: 'NONE',\n      isSortReverse: false,\n    }\n    this.onSort = this.onSort.bind(this);\n  }\n\n  onSort(sortKey) {\n    const isSortReverse = this.state.sortKey === sortKey && !this.state.isSortReverse;\n    this.setState({ sortKey, isSortReverse });\n  }\n\n  render() {\n    const { list, onDismiss } = this.props;\n    const { sortKey, isSortReverse } = this.state;\n    const sortedList = SORTS[sortKey](list);\n    const reverseSortedList = isSortReverse\n    ? sortedList.reverse()\n    : sortedList;\n    return (\n      <div className=\"table\">\n      <div className=\"table-header\">\n        <span style={{ width: '40%' }}>\n          <Sort\n            sortKey={'TITLE'}\n            onSort={this.onSort}\n            activeSortKey={sortKey}\n          >\n            Title\n        </Sort>\n        </span>\n        <span style={{ width: '30%' }}>\n          <Sort\n            sortKey={'AUTHOR'}\n            onSort={this.onSort}\n            activeSortKey={sortKey}\n          >\n            Author\n        </Sort>\n        </span>\n        <span style={{ width: '10%' }}>\n          <Sort\n            sortKey={'COMMENTS'}\n            onSort={this.onSort}\n            activeSortKey={sortKey}\n          >\n            Comments\n        </Sort>\n        </span>\n        <span style={{ width: '10%' }}>\n          <Sort\n            sortKey={'POINTS'}\n            onSort={this.onSort}\n            activeSortKey={sortKey}\n          >\n            Points\n          </Sort>\n        </span>\n        <span style={{ width: '10%' }}>\n          Archive\n      </span>\n      </div>\n      {reverseSortedList.map(item =>\n        <div key={item.objectID} className=\"table-row\">\n          <span>\n            <a href={item.url}>{item.title}</a>\n          </span>\n          <span>{item.author}</span>\n          <span>{item.num_comments}</span>\n          <span>{item.points}</span>\n          <span>\n            <Button onClick={() => onDismiss(item.objectID)} className=\"button-inline\">\n              Dismiss\n            </Button>\n          </span>\n        </div>\n      )}\n      </div>\n    )\n  }\n}\n\n\n\nconst Sort = ({ sortKey, activeSortKey, onSort, children }) => {\n  const sortClass =classNames('button-inline', { 'button-active': sortKey === activeSortKey })\n  return (<Button onClick={() => onSort(sortKey)} className={sortClass}>\n    {children}\n  </Button>)\n}\n\nconst Button = ({\n  onClick,\n  className,\n  children\n}) =>\n  <button\n    onClick={onClick}\n    className={className}\n    type=\"button\"\n  >\n    {children}\n  </button>\nButton.defaultProps = {\n  className: '',\n};\n\nconst Loading = () => \n  <div><FontAwesomeIcon icon={faCoffee} /></div>\n\nconst withFoo = (Component) => (props) =>\n  <Component {...props} />\n\nconst withLoading = (Component) => ({ isLoading, ...rest}) =>\n  isLoading\n    ? <Loading />\n    : <Component {...rest} />\nconst ButtonWithLoading = withLoading(Button);\n\n\nexport default App;\n\nexport {\n  Button,\n  Search,\n  Table,\n};"]},"metadata":{},"sourceType":"module"}